<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MVP Player</title>
<style>
  body { margin: 0; padding: 0; }
  #loading { 
    text-align: center; 
    padding: 2rem; 
    color: #666; 
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    z-index: 1000;
  }
  #error { 
    background: #ffe6e6; 
    padding: 1rem; 
    margin: 1rem;
    border-radius: 8px; 
    border: 1px solid #ffcccc;
    display: none;
  }
</style>
</head>
<body>

<div id="loading">
  <h3>â³ Î¦ÏŒÏÏ„Ï‰ÏƒÎ· MVP Player...</h3>
  <p>Î Î±ÏÎ±ÎºÎ±Î»Ï Ï€ÎµÏÎ¹Î¼Î­Î½ÎµÏ„Îµ</p>
</div>

<div id="error">
  <h3>âŒ Î£Ï†Î¬Î»Î¼Î± Î¦ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚</h3>
  <p id="errorMessage"></p>
  <button onclick="window.location.reload()">ğŸ”„ Î”Î¿ÎºÎ¹Î¼Î® Î¾Î±Î½Î¬</button>
</div>

<script>
(async () => {
  const listUrl = "https://raw.githubusercontent.com/gramophono/mvp1/main/docs/listofplaylists.txt";
  const blockUrl = "https://raw.githubusercontent.com/gramophono/mvp1/main/docs/blockinner.txt";

  try {
    console.log("ğŸš€ Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï„ÎµÎ»Î¹ÎºÎ®Ï‚ HTML...");
    
    // Î¦ÏŒÏÏ„Ï‰ÏƒÎ· ÎºÎ±Î¹ Ï„Ï‰Î½ Î´ÏÎ¿ Î±ÏÏ‡ÎµÎ¯Ï‰Î½
    const [listResponse, blockResponse] = await Promise.all([
      fetch(listUrl),
      fetch(blockUrl)
    ]);

    if (!listResponse.ok) throw new Error(`Î›Î¬Î¸Î¿Ï‚ ÏƒÏ„Î¿ list: ${listResponse.status}`);
    if (!blockResponse.ok) throw new Error(`Î›Î¬Î¸Î¿Ï‚ ÏƒÏ„Î¿ block: ${blockResponse.status}`);

    const listText = await listResponse.text();
    const blockText = await blockResponse.text();

    console.log("âœ… Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î± Ï†Î¿ÏÏ„ÏÎ¸Î·ÎºÎ±Î½");

    // Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼ÏŒÏ‚ Î‘ÎšÎ¡Î™Î’Î©Î£ ÏŒÏ€Ï‰Ï‚ ÏƒÏ„Î¿ ÎµÏÎ³Î±Î»ÎµÎ¯Î¿
    const finalHTML = `
${blockText.trim()}
<div id="mvp-playlist-list">
${listText.trim()}
</div>
</body>
</html>`.trim();

    console.log("ğŸ¯ Î‘Î½Ï„Î¹ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î¿Î»ÏŒÎºÎ»Î·ÏÎ·Ï‚ Ï„Î·Ï‚ ÏƒÎµÎ»Î¯Î´Î±Ï‚...");

    // Î‘Î½Ï„Î¹ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· ÎŸÎ›ÎŸÎšÎ›Î—Î¡Î—Î£ Ï„Î·Ï‚ ÏƒÎµÎ»Î¯Î´Î±Ï‚ Î¼Îµ Ï„Î¿ Ï„ÎµÎ»Î¹ÎºÏŒ Î±Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î±
    document.open();
    document.write(finalHTML);
    document.close();
    // Î¤Î¯Ï„Î»Î¿Ï‚ ÎºÎ±ÏÏ„Î­Î»Î±Ï‚
    document.title = "Î¼Ï…ÏÎ¿Î²Î¿Î»Î¹ÏƒÏ„Î®Ï‚ aio";
    console.log("ğŸ‰ Î— ÏƒÎµÎ»Î¯Î´Î± Ï†Î¿ÏÏ„ÏÎ¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!");

  } catch (err) {
    console.error("âŒ Î£Ï†Î¬Î»Î¼Î±:", err);
    document.getElementById('loading').style.display = 'none';
    document.getElementById('error').style.display = 'block';
    document.getElementById('errorMessage').textContent = err.message;
  }
})();
</script>

</body>
</html>
