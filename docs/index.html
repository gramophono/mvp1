<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MVP Player</title>
<style>
  body { margin: 0; padding: 0; }
  #loading { 
    text-align: center; 
    padding: 2rem; 
    color: #666; 
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    z-index: 1000;
  }
  #error { 
    background: #ffe6e6; 
    padding: 1rem; 
    margin: 1rem;
    border-radius: 8px; 
    border: 1px solid #ffcccc;
    display: none;
  }
</style>
</head>
<body>

<div id="loading">
  <h3>⏳ Φόρτωση MVP Player...</h3>
  <p>Παρακαλώ περιμένετε</p>
</div>

<div id="error">
  <h3>❌ Σφάλμα Φόρτωσης</h3>
  <p id="errorMessage"></p>
  <button onclick="window.location.reload()">🔄 Δοκιμή ξανά</button>
</div>

<script>
(async () => {
  const listUrl = "https://raw.githubusercontent.com/gramophono/mvp1/main/docs/listofplaylists.txt";
  const blockUrl = "https://raw.githubusercontent.com/gramophono/mvp1/main/docs/blockinner.txt";

  try {
    console.log("🚀 Δημιουργία τελικής HTML...");
    
    // Φόρτωση και των δύο αρχείων
    const [listResponse, blockResponse] = await Promise.all([
      fetch(listUrl),
      fetch(blockUrl)
    ]);

    if (!listResponse.ok) throw new Error(`Λάθος στο list: ${listResponse.status}`);
    if (!blockResponse.ok) throw new Error(`Λάθος στο block: ${blockResponse.status}`);

    const listText = await listResponse.text();
    const blockText = await blockResponse.text();

    console.log("✅ Περιεχόμενα φορτώθηκαν");

    // Συνδυασμός ΑΚΡΙΒΩΣ όπως στο εργαλείο
    const finalHTML = `
${blockText.trim()}
<div id="mvp-playlist-list">
${listText.trim()}
</div>
</body>
</html>`.trim();

    console.log("🎯 Αντικατάσταση ολόκληρης της σελίδας...");

    // Αντικατάσταση ΟΛΟΚΛΗΡΗΣ της σελίδας με το τελικό αποτέλεσμα
    document.open();
    document.write(finalHTML);
    document.close();
    // Τίτλος καρτέλας
    document.title = "μυροβολιστής aio";
    console.log("🎉 Η σελίδα φορτώθηκε επιτυχώς!");

  } catch (err) {
    console.error("❌ Σφάλμα:", err);
    document.getElementById('loading').style.display = 'none';
    document.getElementById('error').style.display = 'block';
    document.getElementById('errorMessage').textContent = err.message;
  }
})();
</script>

</body>
</html>
